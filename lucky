import 'package:flutter/material.dart';

void main() => runApp(MaterialApp(
      debugShowCheckedModeBanner: false,
      title: 'Responsive Design App',
      home: HomeScreen(),
    ));

class HomeScreen extends StatefulWidget {
  @override
  State<HomeScreen> createState() => _HomeScreenState();
}

class _HomeScreenState extends State<HomeScreen> {
  String selected = 'Home';

  final pages = {
    'Home': 'Welcome to the Home Page!',
    'About': 'This is the About Page.',
    'Services': 'Here are our Services.',
    'Contact': 'Contact us at example@flutter.dev',
    'Feedback': 'Give us your Feedback!'
  };

  @override
  Widget build(BuildContext context) {
    final w = MediaQuery.of(context).size.width;
    final small = w < 600;

    return Scaffold(
      appBar: AppBar(
        backgroundColor: Colors.green[800],
        title: const Text("Design",
            style: TextStyle(fontSize: 35, fontWeight: FontWeight.bold)),
        actions: small
            ? [
                PopupMenuButton(
                  icon: const Icon(Icons.menu, color: Colors.white),
                  onSelected: (v) => setState(() => selected = v),
                  itemBuilder: (_) => pages.keys
                      .map((e) => PopupMenuItem(
                            value: e,
                            child: Text(
                              e.toUpperCase(),
                              textAlign: TextAlign.center,
                              style: TextStyle(
                                  fontWeight: selected == e
                                      ? FontWeight.bold
                                      : FontWeight.normal,
                                  color: selected == e
                                      ? Colors.green[900]
                                      : Colors.red[800]),
                            ),
                          ))
                      .toList(),
                )
              ]
            : pages.keys
                .map((e) => TextButton(
                      onPressed: () => setState(() => selected = e),
                      child: Text(
                        e.toUpperCase(),
                        style: TextStyle(
                            color: selected == e
                                ? Colors.white
                                : Colors.white70,
                            fontWeight: selected == e
                                ? FontWeight.bold
                                : FontWeight.normal),
                      ),
                    ))
                .toList(),
      ),

      body: Container(
        decoration: const BoxDecoration(
          image: DecorationImage(
              image: AssetImage("assets/images/bg.jpg"), fit: BoxFit.cover),
        ),
        child: Center(
          child: Container(
            width: small ? double.infinity : w * 0.7,
            padding: const EdgeInsets.all(20),
            color: Colors.white70,
            child: Text(pages[selected]!,
                style: const TextStyle(fontSize: 24),
                textAlign: TextAlign.center),
          ),
        ),
      ),
    );
  }
}